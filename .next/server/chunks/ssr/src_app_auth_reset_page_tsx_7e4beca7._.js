module.exports=[59633,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(38246),e=a.i(50944),f=a.i(72131),g=a.i(10849);function h(){let a=(0,e.useRouter)(),[h,i]=(0,f.useState)(""),[j,k]=(0,f.useState)(""),[l,m]=(0,f.useState)(null),[n,o]=(0,f.useState)(!1),[p,q]=(0,f.useState)(!1),r=(0,g.isSupabaseEnabled)();async function s(b){if(b.preventDefault(),!r)return void m("Supabase auth is not configured.");if(!p)return void m("Recovery session not found. Re-open the recovery email link.");if(h.length<8)return void m("Password must be at least 8 characters.");if(h!==j)return void m("Password confirmation does not match.");let c=(0,g.createClient)();if(!c)return void m("Supabase auth client is unavailable.");o(!0),m(null);try{let{error:b}=await c.auth.updateUser({password:h});if(b)return void m(b.message);await c.auth.signOut(),m("Password updated. Redirecting to login..."),window.setTimeout(()=>{a.replace("/auth")},900)}finally{o(!1)}}return(0,f.useEffect)(()=>{if(!r)return;let a=(0,g.createClient)();if(!a)return;let b=!0;a.auth.getSession().then(({data:a})=>{if(b){if(a.session)return void q(!0);m("Open this page from the password recovery email link.")}});let{data:c}=a.auth.onAuthStateChange((a,b)=>{("PASSWORD_RECOVERY"===a||b)&&(q(!0),m(null))});return()=>{b=!1,c.subscription.unsubscribe()}},[r]),(0,b.jsxs)("div",{className:"authRoot",children:[(0,b.jsx)("div",{className:"authGlow authGlowA","aria-hidden":!0}),(0,b.jsx)("div",{className:"authGlow authGlowB","aria-hidden":!0}),(0,b.jsxs)("div",{className:"authShell authResetShell",children:[(0,b.jsxs)("section",{className:"authBrandPanel",children:[(0,b.jsxs)("div",{className:"authBrandLockup",children:[(0,b.jsx)("div",{className:"authBrandBadge",children:(0,b.jsx)(c.default,{src:"https://eburon.ai/icon-eburon.svg",alt:"Eburon Voice",width:36,height:36})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"authEyebrow",children:"Eburon Voice"}),(0,b.jsx)("h1",{className:"authHeading",children:"Reset Password"})]})]}),(0,b.jsx)("p",{className:"authBrandText",children:"Create a new secure password to continue using your admin console account."})]}),(0,b.jsxs)("section",{className:"card authCardPanel",children:[(0,b.jsx)("h2",{className:"authFormTitle",children:"Set a new password"}),(0,b.jsx)("p",{className:"muted authFormCopy",children:"Use at least 8 characters. Avoid reusing previous passwords."}),r?(0,b.jsxs)("form",{className:"authForm",onSubmit:a=>void s(a),children:[(0,b.jsxs)("label",{children:["New Password",(0,b.jsx)("input",{type:"password",autoComplete:"new-password",value:h,onChange:a=>i(a.target.value),placeholder:"At least 8 characters",required:!0})]}),(0,b.jsxs)("label",{children:["Confirm New Password",(0,b.jsx)("input",{type:"password",autoComplete:"new-password",value:j,onChange:a=>k(a.target.value),placeholder:"Re-enter password",required:!0})]}),(0,b.jsx)("button",{type:"submit",disabled:n||!p,children:n?"Updating...":"Update Password"})]}):(0,b.jsx)("p",{className:"muted",children:"Supabase auth is not configured. Add `NEXT_PUBLIC_SUPABASE_URL` and `NEXT_PUBLIC_SUPABASE_ANON_KEY` in your environment."}),l?(0,b.jsx)("p",{className:"muted authStatus",children:l}):null,(0,b.jsx)("p",{className:"muted authStatus",children:(0,b.jsx)(d.default,{href:"/auth",className:"authLink",children:"Back to login"})})]})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=src_app_auth_reset_page_tsx_7e4beca7._.js.map