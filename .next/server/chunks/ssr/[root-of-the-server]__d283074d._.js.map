{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../src/components/app-shell.tsx","../../../../src/components/nav-shell.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\n\nimport { usePathname } from \"next/navigation\";\nimport { type ReactNode } from \"react\";\n\nimport { NavShell } from \"@/components/nav-shell\";\n\nconst INTERNAL_ROOT_SEGMENTS = new Set([\n  \"dashboard\",\n  \"create\",\n  \"agents\",\n  \"voices\",\n  \"dialer\",\n  \"calls\",\n  \"call-logs\",\n  \"contacts\",\n  \"numbers\",\n  \"settings\",\n  \"crm\",\n]);\n\nfunction isInternalRoute(pathname: string): boolean {\n  const firstSegment = pathname.split(\"/\").filter(Boolean)[0] ?? \"\";\n  return INTERNAL_ROOT_SEGMENTS.has(firstSegment);\n}\n\nexport function AppShell({ children }: { children: ReactNode }) {\n  const pathname = usePathname() ?? \"/\";\n\n  // Middleware handles all redirect routing now.\n  // We just need to decide whether to wrap the content in NavShell or not.\n  if (isInternalRoute(pathname)) {\n    return <NavShell>{children}</NavShell>;\n  }\n\n  return <>{children}</>;\n}\n","\"use client\";\n\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useEffect, useState, type ReactNode } from \"react\";\n\nimport { createClient, isSupabaseEnabled } from \"@/lib/supabase\";\n\nconst LOGO_URL = \"https://eburon.ai/icon-eburon.svg\";\n\nconst navItems = [\n  { href: \"/dashboard\", label: \"Dashboard\", icon: \"‚óß\" },\n  { href: \"/create\", label: \"Create\", icon: \"+\" },\n  { href: \"/agents\", label: \"Agents\", icon: \"‚óé\" },\n  { href: \"/voices\", label: \"Voices\", icon: \"‚óâ\" },\n  { href: \"/dialer\", label: \"Dialer\", icon: \"‚óå\" },\n  { href: \"/calls/bulk\", label: \"Bulk Calls\", icon: \"‚ñ¶\" },\n  { href: \"/call-logs\", label: \"Call Logs\", icon: \"‚ò∞\" },\n  { href: \"/contacts\", label: \"Contacts\", icon: \"‚óç\" },\n  { href: \"/crm\", label: \"Client CRM\", icon: \"‚åÅ\" },\n  { href: \"/numbers\", label: \"Numbers\", icon: \"#\" },\n  { href: \"/integrations\", label: \"Integrations\", icon: \"üîå\" },\n  { href: \"/hot\", label: \"Hot\", icon: \"üî•\" },\n  { href: \"/settings\", label: \"Settings\", icon: \"‚öô\" },\n];\n\nexport function NavShell({ children }: { children: ReactNode }) {\n  const router = useRouter();\n  const pathname = usePathname();\n  const authEnabled = isSupabaseEnabled();\n  const [collapsed, setCollapsed] = useState<boolean>(() => {\n    if (typeof window === \"undefined\") {\n      return false;\n    }\n    return window.localStorage.getItem(\"ev.sidebar.collapsed\") === \"1\";\n  });\n  const [accountEmail, setAccountEmail] = useState<string | null>(null);\n  const [logoutLoading, setLogoutLoading] = useState(false);\n\n  useEffect(() => {\n    if (!authEnabled) return;\n    const sb = createClient();\n    if (!sb) return;\n\n    let active = true;\n    sb.auth.getSession().then(({ data }) => {\n      if (active) {\n        setAccountEmail(data.session?.user.email ?? null);\n      }\n    });\n\n    const { data: subscription } = sb.auth.onAuthStateChange((_event, nextSession) => {\n      setAccountEmail(nextSession?.user.email ?? null);\n    });\n\n    return () => {\n      active = false;\n      subscription.subscription.unsubscribe();\n    };\n  }, [authEnabled]);\n\n  function toggleSidebar() {\n    setCollapsed((prev) => {\n      const next = !prev;\n      window.localStorage.setItem(\"ev.sidebar.collapsed\", next ? \"1\" : \"0\");\n      return next;\n    });\n  }\n\n  async function signOut() {\n    setLogoutLoading(true);\n    try {\n      const sb = createClient();\n      if (sb) {\n        await sb.auth.signOut();\n      }\n    } finally {\n      setLogoutLoading(false);\n      router.replace(\"/auth\");\n    }\n  }\n\n  return (\n    <div className={`shell ${collapsed ? \"sidebarCollapsed\" : \"\"}`}>\n      <aside className={`sidebar ${collapsed ? \"collapsed\" : \"\"}`}>\n        <div className=\"brandPanel\">\n          <div className=\"brandBadge\">\n            <Image\n              src={LOGO_URL}\n              alt=\"Eburon\"\n              width={24}\n              height={24}\n            />\n          </div>\n          <div className=\"brandCopy\">\n            <p className=\"brandName\">Eburon Voice</p>\n            <p className=\"brandSub\">CSR Agent Builder</p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"sidebarToggle\"\n            onClick={toggleSidebar}\n            aria-label={collapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\n            title={collapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\n          >\n            {collapsed ? \"‚Ä∫\" : \"‚Äπ\"}\n          </button>\n        </div>\n\n        <nav className=\"sidebarNav\" aria-label=\"Main\">\n          {navItems.map((item) => (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={`navLink ${pathname === item.href ? \"active\" : \"\"}`}\n              title={item.label}\n              aria-label={item.label}\n            >\n              <span className=\"navIcon\" aria-hidden>\n                {item.icon}\n              </span>\n              <span className=\"navText\">{item.label}</span>\n            </Link>\n          ))}\n        </nav>\n\n        {authEnabled ? (\n          <div className=\"sidebarFooter\">\n            {!collapsed ? (\n              <p className=\"sidebarUserEmail\">{accountEmail ?? \"Signed in user\"}</p>\n            ) : null}\n            <button\n              type=\"button\"\n              className=\"sidebarLogoutButton\"\n              onClick={() => void signOut()}\n              disabled={logoutLoading}\n              title=\"Logout\"\n            >\n              <span className=\"navIcon\" aria-hidden>\n                ‚éã\n              </span>\n              <span className=\"navText\">{logoutLoading ? \"Signing out...\" : \"Logout\"}</span>\n            </button>\n          </div>\n        ) : null}\n      </aside>\n\n      <main className=\"content\">{children}</main>\n\n      <nav className=\"bottomNav\" aria-label=\"Mobile main\">\n        {navItems.map((item) => (\n          <Link\n            key={item.href}\n            href={item.href}\n            className={`bottomLink ${pathname === item.href ? \"active\" : \"\"}`}\n          >\n            <span className=\"bottomIcon\" aria-hidden>\n              {item.icon}\n            </span>\n            <span className=\"bottomText\">{item.label}</span>\n          </Link>\n        ))}\n      </nav>\n    </div>\n  );\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactDOM","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7]}