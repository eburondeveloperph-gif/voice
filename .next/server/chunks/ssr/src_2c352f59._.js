module.exports=[75110,a=>{"use strict";async function b(a,b){let c=await fetch(a,{...b,headers:{"Content-Type":"application/json",...b?.headers??{}}}),d=await c.text(),e=d?function(a){try{return JSON.parse(a)}catch{return a}}(d):null;if(!c.ok){let a="object"==typeof e&&e&&"error"in e?String(e.error):`Request failed (${c.status})`,b=function(a){if("string"==typeof a&&a.trim().length>0)return a.trim();if(Array.isArray(a)){let b=a.find(a=>"string"==typeof a&&a.trim().length>0);if(b)return b.trim()}if("object"!=typeof a||null===a)return null;let b=a.message;if("string"==typeof b&&b.trim().length>0)return b.trim();if(Array.isArray(b)){let a=b.find(a=>"string"==typeof a&&a.trim().length>0);if(a)return a.trim()}return null}("object"==typeof e&&e&&"details"in e?e.details:void 0);throw Error(b?`${a}: ${b}`:a)}return e}a.s(["apiRequest",()=>b])},57811,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(75110);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)({fullName:"",phoneNumber:"",email:""});async function j(){e((await (0,d.apiRequest)(`/api/ev/contacts?q=${encodeURIComponent(f)}`)).contacts)}async function k(){await (0,d.apiRequest)("/api/ev/contacts",{method:"POST",body:JSON.stringify({...h,tags:["imported"]})}),i({fullName:"",phoneNumber:"",email:""}),await j()}return(0,c.useEffect)(()=>{let a=!0;return(0,d.apiRequest)(`/api/ev/contacts?q=${encodeURIComponent("")}`).then(b=>{a&&e(b.contacts)}),()=>{a=!1}},[]),(0,b.jsxs)("div",{children:[(0,b.jsx)("header",{className:"pageHead",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"pageTitle",children:"Contacts"}),(0,b.jsx)("p",{className:"pageSubtitle",children:"Upload, dedupe, tag, and search customer contacts."})]})}),(0,b.jsx)("section",{className:"card",style:{marginBottom:12},children:(0,b.jsxs)("div",{className:"fieldGrid",children:[(0,b.jsxs)("label",{children:["Name",(0,b.jsx)("input",{value:h.fullName,onChange:a=>i(b=>({...b,fullName:a.target.value}))})]}),(0,b.jsxs)("label",{children:["Phone Number",(0,b.jsx)("input",{value:h.phoneNumber,onChange:a=>i(b=>({...b,phoneNumber:a.target.value}))})]}),(0,b.jsxs)("label",{children:["Email",(0,b.jsx)("input",{value:h.email,onChange:a=>i(b=>({...b,email:a.target.value}))})]}),(0,b.jsx)("div",{className:"inlineActions",children:(0,b.jsx)("button",{type:"button",onClick:()=>void k(),children:"Add Contact"})})]})}),(0,b.jsx)("section",{className:"card",style:{marginBottom:12},children:(0,b.jsxs)("div",{className:"inlineActions",children:[(0,b.jsx)("input",{value:f,onChange:a=>g(a.target.value),placeholder:"Search contacts",style:{maxWidth:320}}),(0,b.jsx)("button",{type:"button",className:"secondary",onClick:()=>void j(),children:"Search"})]})}),(0,b.jsx)("section",{className:"card",children:(0,b.jsx)("div",{className:"tableWrap",children:(0,b.jsxs)("table",{children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Name"}),(0,b.jsx)("th",{children:"Phone"}),(0,b.jsx)("th",{children:"Email"}),(0,b.jsx)("th",{children:"Tags"})]})}),(0,b.jsxs)("tbody",{children:[a.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:a.fullName}),(0,b.jsx)("td",{children:a.phoneNumber}),(0,b.jsx)("td",{children:a.email??"-"}),(0,b.jsx)("td",{children:a.tags??"-"})]},a.id)),0===a.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"muted",children:"No contacts yet."})})]})]})})})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_2c352f59._.js.map