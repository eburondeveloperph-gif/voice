(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83752,e=>{"use strict";async function t(e,t){let n=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t?.headers??{}}}),a=await n.text(),l=a?function(e){try{return JSON.parse(e)}catch{return e}}(a):null;if(!n.ok){let e="object"==typeof l&&l&&"error"in l?String(l.error):`Request failed (${n.status})`,t=function(e){if("string"==typeof e&&e.trim().length>0)return e.trim();if(Array.isArray(e)){let t=e.find(e=>"string"==typeof e&&e.trim().length>0);if(t)return t.trim()}if("object"!=typeof e||null===e)return null;let t=e.message;if("string"==typeof t&&t.trim().length>0)return t.trim();if(Array.isArray(t)){let e=t.find(e=>"string"==typeof e&&e.trim().length>0);if(e)return e.trim()}return null}("object"==typeof l&&l&&"details"in l?l.details:void 0);throw Error(t?`${e}: ${t}`:e)}return l}e.s(["apiRequest",()=>t])},42501,e=>{"use strict";var t=e.i(43476),n=e.i(932),a=e.i(71645),l=e.i(83752);function r(){let e,r,s,c,o,m,h,d,u,f,p,j,y,b,x,g,N,S,_,v,C,A,R,T,q,w,O,P=(0,n.c)(49);P[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],P[0]=e):e=P[0];let[U,$]=(0,a.useState)(e),[B,E]=(0,a.useState)("");P[1]===Symbol.for("react.memo_cache_sentinel")?(r={fullName:"",phoneNumber:"",email:""},P[1]=r):r=P[1];let[k,I]=(0,a.useState)(r);P[2]!==B?(s=async function(){$((await (0,l.apiRequest)(`/api/ev/contacts?q=${encodeURIComponent(B)}`)).contacts)},P[2]=B,P[3]=s):s=P[3];let J=s;P[4]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{let e=!0;return(0,l.apiRequest)(`/api/ev/contacts?q=${encodeURIComponent("")}`).then(t=>{e&&$(t.contacts)}),()=>{e=!1}},o=[],P[4]=c,P[5]=o):(c=P[4],o=P[5]),(0,a.useEffect)(c,o),P[6]!==k||P[7]!==J?(m=async function(){await (0,l.apiRequest)("/api/ev/contacts",{method:"POST",body:JSON.stringify({...k,tags:["imported"]})}),I({fullName:"",phoneNumber:"",email:""}),await J()},P[6]=k,P[7]=J,P[8]=m):m=P[8];let K=m;return P[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)("header",{className:"pageHead",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"pageTitle",children:"Contacts"}),(0,t.jsx)("p",{className:"pageSubtitle",children:"Upload, dedupe, tag, and search customer contacts."})]})}),P[9]=h):h=P[9],P[10]===Symbol.for("react.memo_cache_sentinel")?(d={marginBottom:12},P[10]=d):d=P[10],P[11]===Symbol.for("react.memo_cache_sentinel")?(u=e=>I(t=>({...t,fullName:e.target.value})),P[11]=u):u=P[11],P[12]!==k.fullName?(f=(0,t.jsxs)("label",{children:["Name",(0,t.jsx)("input",{value:k.fullName,onChange:u})]}),P[12]=k.fullName,P[13]=f):f=P[13],P[14]===Symbol.for("react.memo_cache_sentinel")?(p=e=>I(t=>({...t,phoneNumber:e.target.value})),P[14]=p):p=P[14],P[15]!==k.phoneNumber?(j=(0,t.jsxs)("label",{children:["Phone Number",(0,t.jsx)("input",{value:k.phoneNumber,onChange:p})]}),P[15]=k.phoneNumber,P[16]=j):j=P[16],P[17]===Symbol.for("react.memo_cache_sentinel")?(y=e=>I(t=>({...t,email:e.target.value})),P[17]=y):y=P[17],P[18]!==k.email?(b=(0,t.jsxs)("label",{children:["Email",(0,t.jsx)("input",{value:k.email,onChange:y})]}),P[18]=k.email,P[19]=b):b=P[19],P[20]!==K?(x=(0,t.jsx)("div",{className:"inlineActions",children:(0,t.jsx)("button",{type:"button",onClick:()=>void K(),children:"Add Contact"})}),P[20]=K,P[21]=x):x=P[21],P[22]!==j||P[23]!==b||P[24]!==x||P[25]!==f?(g=(0,t.jsx)("section",{className:"card",style:d,children:(0,t.jsxs)("div",{className:"fieldGrid",children:[f,j,b,x]})}),P[22]=j,P[23]=b,P[24]=x,P[25]=f,P[26]=g):g=P[26],P[27]===Symbol.for("react.memo_cache_sentinel")?(N={marginBottom:12},P[27]=N):N=P[27],P[28]===Symbol.for("react.memo_cache_sentinel")?(S=e=>E(e.target.value),P[28]=S):S=P[28],P[29]===Symbol.for("react.memo_cache_sentinel")?(_={maxWidth:320},P[29]=_):_=P[29],P[30]!==B?(v=(0,t.jsx)("input",{value:B,onChange:S,placeholder:"Search contacts",style:_}),P[30]=B,P[31]=v):v=P[31],P[32]!==J?(C=(0,t.jsx)("button",{type:"button",className:"secondary",onClick:()=>void J(),children:"Search"}),P[32]=J,P[33]=C):C=P[33],P[34]!==v||P[35]!==C?(A=(0,t.jsx)("section",{className:"card",style:N,children:(0,t.jsxs)("div",{className:"inlineActions",children:[v,C]})}),P[34]=v,P[35]=C,P[36]=A):A=P[36],P[37]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Phone"}),(0,t.jsx)("th",{children:"Email"}),(0,t.jsx)("th",{children:"Tags"})]})}),P[37]=R):R=P[37],P[38]!==U?(T=U.map(i),P[38]=U,P[39]=T):T=P[39],P[40]!==U.length?(q=0===U.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:4,className:"muted",children:"No contacts yet."})}),P[40]=U.length,P[41]=q):q=P[41],P[42]!==T||P[43]!==q?(w=(0,t.jsx)("section",{className:"card",children:(0,t.jsx)("div",{className:"tableWrap",children:(0,t.jsxs)("table",{children:[R,(0,t.jsxs)("tbody",{children:[T,q]})]})})}),P[42]=T,P[43]=q,P[44]=w):w=P[44],P[45]!==g||P[46]!==A||P[47]!==w?(O=(0,t.jsxs)("div",{children:[h,g,A,w]}),P[45]=g,P[46]=A,P[47]=w,P[48]=O):O=P[48],O}function i(e){return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.fullName}),(0,t.jsx)("td",{children:e.phoneNumber}),(0,t.jsx)("td",{children:e.email??"-"}),(0,t.jsx)("td",{children:e.tags??"-"})]},e.id)}e.s(["default",()=>r])}]);