(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83752,e=>{"use strict";async function t(e,t){let r=await fetch(e,{...t,headers:{"Content-Type":"application/json",...t?.headers??{}}}),s=await r.text(),n=s?function(e){try{return JSON.parse(e)}catch{return e}}(s):null;if(!r.ok){let e="object"==typeof n&&n&&"error"in n?String(n.error):`Request failed (${r.status})`,t=function(e){if("string"==typeof e&&e.trim().length>0)return e.trim();if(Array.isArray(e)){let t=e.find(e=>"string"==typeof e&&e.trim().length>0);if(t)return t.trim()}if("object"!=typeof e||null===e)return null;let t=e.message;if("string"==typeof t&&t.trim().length>0)return t.trim();if(Array.isArray(t)){let e=t.find(e=>"string"==typeof e&&e.trim().length>0);if(e)return e.trim()}return null}("object"==typeof n&&n&&"details"in n?n.details:void 0);throw Error(t?`${e}: ${t}`:e)}return n}e.s(["apiRequest",()=>t])},87278,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(83752);function n(){let[e,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(""),[a,c]=(0,r.useState)(!0);async function d(e=!1){c(!0);try{let t=await (0,s.apiRequest)(`/api/ev/voice/calls?sync=${e}&q=${encodeURIComponent(i)}`);n(t.calls)}finally{c(!1)}}return(0,r.useEffect)(()=>{let e=!0;return(0,s.apiRequest)(`/api/ev/voice/calls?sync=false&q=${encodeURIComponent("")}`).then(t=>{e&&n(t.calls)}).finally(()=>{e&&c(!1)}),()=>{e=!1}},[]),(0,t.jsxs)("div",{children:[(0,t.jsx)("header",{className:"pageHead",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"pageTitle",children:"Call Logs"}),(0,t.jsx)("p",{className:"pageSubtitle",children:"Search and inspect call outcomes."})]})}),(0,t.jsx)("section",{className:"card",style:{marginBottom:12},children:(0,t.jsxs)("div",{className:"inlineActions",children:[(0,t.jsx)("input",{value:i,onChange:e=>l(e.target.value),placeholder:"Search number or call id",style:{maxWidth:320}}),(0,t.jsx)("button",{type:"button",className:"secondary",onClick:()=>void d(!1),disabled:a,children:"Search"}),(0,t.jsx)("button",{type:"button",onClick:()=>void d(!0),disabled:a,children:"Sync Now"})]})}),(0,t.jsx)("section",{className:"card",children:(0,t.jsx)("div",{className:"tableWrap",children:(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Call"}),(0,t.jsx)("th",{children:"Agent"}),(0,t.jsx)("th",{children:"Status"}),(0,t.jsx)("th",{children:"From"}),(0,t.jsx)("th",{children:"To"}),(0,t.jsx)("th",{children:"Duration"}),(0,t.jsx)("th",{children:"Cost"}),(0,t.jsx)("th",{children:"Started"})]})}),(0,t.jsxs)("tbody",{children:[e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:e.vapiCallId}),(0,t.jsx)("td",{children:e.agent?.name??"-"}),(0,t.jsx)("td",{children:e.status}),(0,t.jsx)("td",{children:e.fromNumber??"-"}),(0,t.jsx)("td",{children:e.toNumber??"-"}),(0,t.jsx)("td",{children:e.durationSeconds??"-"}),(0,t.jsx)("td",{children:"number"==typeof e.costUsd?`$${e.costUsd.toFixed(3)}`:"-"}),(0,t.jsx)("td",{children:e.startedAt?new Date(e.startedAt).toLocaleString():"-"})]},e.id)),0===e.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:8,className:"muted",children:"No calls logged yet."})})]})]})})})]})}e.s(["default",()=>n])}]);